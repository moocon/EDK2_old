<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<style type="text/css">
  <!--
  .main-title, .main-details {
    font-size: small;
  }
  
  .main-details {
    margin-top: 0.19in;
    margin-bottom: 0.19in
  }
  
  .main-title {
    font-weight: bold;
    margin-top: 0in;
    margin-bottom: 0.08in;
    border-bottom: thin solid black;
  }

  .build-step-title {
    font-weight: bold;
    margin-top: 0.19in;
    margin-bottom: 0.19in
  }
  
  .build-step-details {
  }

  .monospace, .build-step-code {
    font-family: "courier new", "courier", "monospace";
  }

  .build-step-code {
    border: 1px dashed;
    margin-right: 0.25in;
    padding: 2pt 4pt 2pt 4pt;
    background-color: #F0F0F0;
  }
  
  .build-step-details, .build-step-code, .build-step-title {
    font-size: small;
    margin-left: 0.25in;
  }
  
  table.build-step-details td {
    border: hidden;
  }

  td.dsc-table {
    text-align: center;
    padding-left: 1em;
  }
  
  img.in-text {
    vertical-align: top;
  }
  -->
</style>

<h2 class="main-title">
  How to build <a href="OVMF.html">OVMF</a> with edk2
</h2>

<p class="main-details">
  Building <a href="OVMF.html">OVMF</a>
  is fairly easy once you have installed a few
  pre-requisites.&nbsp;
  Please note, however, that building OVMF is not required if you are
  only interested in
  <a href="run-ovmf.html">running OVMF</a>,
  since we have provided pre-built
  binaries of OVMF.
</p>

<p class="main-details">
  The pre-requisites for building OVMF are:
</p>

<font size="2">
  <ul>
    <li>
      A edk2 build tree capable of building UEFI images.
      <ul>
        <li>
	  If you are new to edk2 building then
          <a href="step-by-step-instructions.html">these getting started instructions</a>
	  may be helpful.
        </li>
      </ul>
    </li>
    <li>
      An ASL compiler configured in your edk2 build tree.
      <ul>
        <li>
	  Either the Intel ASL compiler or the Microsoft ASL compiler
	  can be used.
        </li>
        <li>
	  For Unix-like operating systems, the
	  <a href="unix-getting-started.html">getting started</a> guide
	  includes details for installing the Intel ASL compiler.
        </li>
        <li>
	  For Windows, you can download pre-built version of the
	  Intel ASL compiler from
	  <a href="http://www.acpica.org">http://www.acpica.org</a>.
        </li>
        <li>
	  For Windows, you can also download a pre-built version of the
	  Microsoft ASL compiler from
	  <a href="http://www.acpi.info">http://www.acpi.info</a>.
        </li>
      </ul>
    </li>
  </ul>
</font>

<!--
 #
 # OVMF processor architectures
 #
-->
<h2 class="main-title">
  Choosing which version of OVMF to build.
</h2>

<p class="build-step-details">
  First decide which version of OVMF you will build.&nbsp;
  You can choose to build the IA32 processor architecture and/or
  the X64 processor architecture.&nbsp;
  You should take into account the processor architectures which
  your toolchain is capable of building.&nbsp;
  Depending upon which you select, you should modify the
  ACTIVE_PLATFORM and TARGET_ARCH in Conf/target.txt.
</p>

<table class="build-step-details dsc-table">
  <tr>
    <td class="dsc-table">
      <u>ACTIVE_PLATFORM</u>
    </td>
    <td class="dsc-table">
      <u>TARGET_ARCH</u>
    </td>
    <td class="dsc-table">
      <u>PEI code</u>
    </td>
    <td class="dsc-table">
      <u>DXE/UEFI code</u>
    </td>
  </tr>
  <tr>
    <td class="dsc-table">OvmfPkg/OvmfPkgIa32.dsc</td>
    <td class="dsc-table">IA32</td>
    <td class="dsc-table">IA32</td>
    <td class="dsc-table">IA32</td>
  </tr>
  <tr>
    <td class="dsc-table">OvmfPkg/OvmfPkgIa32X64.dsc</td>
    <td class="dsc-table">IA32 X64</td>
    <td class="dsc-table">IA32</td>
    <td class="dsc-table">X64</td>
  </tr>
  <tr>
    <td class="dsc-table">OvmfPkg/OvmfPkgX64.dsc</td>
    <td class="dsc-table">X64</td>
    <td class="dsc-table">X64</td>
    <td class="dsc-table">X64</td>
  </tr>
</table>

<p class="build-step-details">
  Once you have modified Conf/target.txt, you can run the build command.
</p>

<pre class="build-step-code">
bash$ <b>build</b>
</pre>

<p class="build-step-details">
  If successful, you should now have a OVMF.fd file under the Build
  sub-directory.&nbsp;
  The exact directory under the Build directory will depend upon the
  toolchain, dsc and processor architecture
</p>

<p class="build-step-details">
  Now you can use OVMF.fd to <a href="run-ovmf.html">run OVMF</a>.
</p>

