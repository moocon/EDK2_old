<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MdePkg[ALL]: MdePkg/Include/Ppi/DeviceRecoveryModule.h File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
<link href="../../tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>MdePkg/Include/Ppi/DeviceRecoveryModule.h File Reference</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc2/a00228.html">_EFI_PEI_DEVICE_RECOVERY_MODULE_PPI</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d32/a01122.html#0f5dcbb26cc1ded19eea13f8e7019365">EFI_PEI_DEVICE_RECOVERY_MODULE_PPI_GUID</a></td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <br class="typebreak">
<a class="el" href="../../de/dc2/a00228.html">_EFI_PEI_DEVICE_RECOVERY_MODULE_PPI</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d32/a01122.html#af5753d4a11a63c0ca7760ac81b29b67">EFI_PEI_DEVICE_RECOVERY_MODULE_PPI</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="../../dd/d95/a01247.html#5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a>(EFIAPI *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d32/a01122.html#3d25b7ce0cda39be368ce5cc45cf53b0">EFI_PEI_DEVICE_GET_NUMBER_RECOVERY_CAPSULE</a> )(IN <a class="el" href="../../d6/db6/a00241.html">EFI_PEI_SERVICES</a> **PeiServices, IN <a class="el" href="../../de/dc2/a00228.html">EFI_PEI_DEVICE_RECOVERY_MODULE_PPI</a> *This, OUT <a class="el" href="../../d0/d90/a01059.html#4a2fc3b6f740e9cca9f895579c167560">UINTN</a> *NumberRecoveryCapsules)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="../../dd/d95/a01247.html#5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a>(EFIAPI *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d32/a01122.html#174c9e6eda82b2fc8c26e9a67fd0dd63">EFI_PEI_DEVICE_GET_RECOVERY_CAPSULE_INFO</a> )(IN <a class="el" href="../../d6/db6/a00241.html">EFI_PEI_SERVICES</a> **PeiServices, IN <a class="el" href="../../de/dc2/a00228.html">EFI_PEI_DEVICE_RECOVERY_MODULE_PPI</a> *This, IN <a class="el" href="../../d0/d90/a01059.html#4a2fc3b6f740e9cca9f895579c167560">UINTN</a> CapsuleInstance, OUT <a class="el" href="../../d0/d90/a01059.html#4a2fc3b6f740e9cca9f895579c167560">UINTN</a> *Size, OUT <a class="el" href="../../d1/d87/a00689.html">EFI_GUID</a> *CapsuleType)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="../../dd/d95/a01247.html#5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a>(EFIAPI *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d32/a01122.html#3bd93eda997442b6d0143e4329dd514c">EFI_PEI_DEVICE_LOAD_RECOVERY_CAPSULE</a> )(IN OUT <a class="el" href="../../d6/db6/a00241.html">EFI_PEI_SERVICES</a> **PeiServices, IN <a class="el" href="../../de/dc2/a00228.html">EFI_PEI_DEVICE_RECOVERY_MODULE_PPI</a> *This, IN <a class="el" href="../../d0/d90/a01059.html#4a2fc3b6f740e9cca9f895579c167560">UINTN</a> CapsuleInstance, OUT VOID *Buffer)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/d87/a00689.html">EFI_GUID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d32/a01122.html#51984d6e92921af1353dabad00375228">gEfiPeiDeviceRecoveryModulePpiGuid</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This file declares the Device Recovery Module PPI.<p>
The interface of this PPI does the following:<ul>
<li>Reports the number of recovery DXE capsules that exist on the associated device(s)</li><li>Finds the requested firmware binary capsule</li><li>Loads that capsule into memory</li></ul>
<p>
A device can be either a group of devices, such as a block device, or an individual device. The module determines the internal search order, with capsule number 1 as the highest load priority and number N as the lowest priority.<p>
Copyright (c) 2007 - 2009, Intel Corporation All rights reserved. This program and the accompanying materials are licensed and made available under the terms and conditions of the BSD License which accompanies this distribution. The full text of the license may be found at <a href="http://opensource.org/licenses/bsd-license.php">http://opensource.org/licenses/bsd-license.php</a><p>
THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED.<p>
<dl class="user" compact><dt><b>Revision Reference:</b></dt><dd>This PPI is defined in UEFI Platform Initialization Specification 1.2 Volume 1: Pre-EFI Initalization Core Interface </dd></dl>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="0f5dcbb26cc1ded19eea13f8e7019365"></a><!-- doxytag: member="DeviceRecoveryModule.h::EFI_PEI_DEVICE_RECOVERY_MODULE_PPI_GUID" ref="0f5dcbb26cc1ded19eea13f8e7019365" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EFI_PEI_DEVICE_RECOVERY_MODULE_PPI_GUID          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    0x0DE2CE25, 0x446A, 0x45a7, {0xBF, 0xC9, 0x37, 0xDA, 0x26, 0x34, 0x4B, 0x37 } \
  }
</pre></div>
</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="3d25b7ce0cda39be368ce5cc45cf53b0"></a><!-- doxytag: member="DeviceRecoveryModule.h::EFI_PEI_DEVICE_GET_NUMBER_RECOVERY_CAPSULE" ref="3d25b7ce0cda39be368ce5cc45cf53b0" args=")(IN EFI_PEI_SERVICES **PeiServices, IN EFI_PEI_DEVICE_RECOVERY_MODULE_PPI *This, OUT UINTN *NumberRecoveryCapsules)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../dd/d95/a01247.html#5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a>(EFIAPI * <a class="el" href="../../db/d32/a01122.html#3d25b7ce0cda39be368ce5cc45cf53b0">EFI_PEI_DEVICE_GET_NUMBER_RECOVERY_CAPSULE</a>)(IN <a class="el" href="../../d6/db6/a00241.html">EFI_PEI_SERVICES</a> **PeiServices, IN <a class="el" href="../../de/dc2/a00228.html">EFI_PEI_DEVICE_RECOVERY_MODULE_PPI</a> *This, OUT <a class="el" href="../../d0/d90/a01059.html#4a2fc3b6f740e9cca9f895579c167560">UINTN</a> *NumberRecoveryCapsules)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the number of DXE capsules residing on the device.<p>
This function searches for DXE capsules from the associated device and returns the number and maximum size in bytes of the capsules discovered. Entry 1 is assumed to be the highest load priority and entry N is assumed to be the lowest priority.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>PeiServices</em>&nbsp;</td><td>General-purpose services that are available to every PEIM </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>This</em>&nbsp;</td><td>Indicates the EFI_PEI_DEVICE_RECOVERY_MODULE_PPI instance. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>NumberRecoveryCapsules</em>&nbsp;</td><td>Pointer to a caller-allocated UINTN. On output, *NumberRecoveryCapsules contains the number of recovery capsule images available for retrieval from this PEIM instance.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>EFI_SUCCESS</em>&nbsp;</td><td>One or more capsules were discovered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EFI_DEVICE_ERROR</em>&nbsp;</td><td>A device error occurred. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EFI_NOT_FOUND</em>&nbsp;</td><td>A recovery DXE capsule cannot be found. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="174c9e6eda82b2fc8c26e9a67fd0dd63"></a><!-- doxytag: member="DeviceRecoveryModule.h::EFI_PEI_DEVICE_GET_RECOVERY_CAPSULE_INFO" ref="174c9e6eda82b2fc8c26e9a67fd0dd63" args=")(IN EFI_PEI_SERVICES **PeiServices, IN EFI_PEI_DEVICE_RECOVERY_MODULE_PPI *This, IN UINTN CapsuleInstance, OUT UINTN *Size, OUT EFI_GUID *CapsuleType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../dd/d95/a01247.html#5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a>(EFIAPI * <a class="el" href="../../db/d32/a01122.html#174c9e6eda82b2fc8c26e9a67fd0dd63">EFI_PEI_DEVICE_GET_RECOVERY_CAPSULE_INFO</a>)(IN <a class="el" href="../../d6/db6/a00241.html">EFI_PEI_SERVICES</a> **PeiServices, IN <a class="el" href="../../de/dc2/a00228.html">EFI_PEI_DEVICE_RECOVERY_MODULE_PPI</a> *This, IN <a class="el" href="../../d0/d90/a01059.html#4a2fc3b6f740e9cca9f895579c167560">UINTN</a> CapsuleInstance, OUT <a class="el" href="../../d0/d90/a01059.html#4a2fc3b6f740e9cca9f895579c167560">UINTN</a> *Size, OUT <a class="el" href="../../d1/d87/a00689.html">EFI_GUID</a> *CapsuleType)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the size and type of the requested recovery capsule.<p>
This function gets the size and type of the capsule specified by CapsuleInstance.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>PeiServices</em>&nbsp;</td><td>General-purpose services that are available to every PEIM </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>This</em>&nbsp;</td><td>Indicates the EFI_PEI_DEVICE_RECOVERY_MODULE_PPI instance. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>CapsuleInstance</em>&nbsp;</td><td>Specifies for which capsule instance to retrieve the information. This parameter must be between one and the value returned by GetNumberRecoveryCapsules() in NumberRecoveryCapsules. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>Size</em>&nbsp;</td><td>A pointer to a caller-allocated UINTN in which the size of the requested recovery module is returned. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>CapsuleType</em>&nbsp;</td><td>A pointer to a caller-allocated EFI_GUID in which the type of the requested recovery capsule is returned. The semantic meaning of the value returned is defined by the implementation.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>EFI_SUCCESS</em>&nbsp;</td><td>One or more capsules were discovered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EFI_DEVICE_ERROR</em>&nbsp;</td><td>A device error occurred. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EFI_NOT_FOUND</em>&nbsp;</td><td>A recovery DXE capsule cannot be found. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="3bd93eda997442b6d0143e4329dd514c"></a><!-- doxytag: member="DeviceRecoveryModule.h::EFI_PEI_DEVICE_LOAD_RECOVERY_CAPSULE" ref="3bd93eda997442b6d0143e4329dd514c" args=")(IN OUT EFI_PEI_SERVICES **PeiServices, IN EFI_PEI_DEVICE_RECOVERY_MODULE_PPI *This, IN UINTN CapsuleInstance, OUT VOID *Buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../dd/d95/a01247.html#5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a>(EFIAPI * <a class="el" href="../../db/d32/a01122.html#3bd93eda997442b6d0143e4329dd514c">EFI_PEI_DEVICE_LOAD_RECOVERY_CAPSULE</a>)(IN OUT <a class="el" href="../../d6/db6/a00241.html">EFI_PEI_SERVICES</a> **PeiServices, IN <a class="el" href="../../de/dc2/a00228.html">EFI_PEI_DEVICE_RECOVERY_MODULE_PPI</a> *This, IN <a class="el" href="../../d0/d90/a01059.html#4a2fc3b6f740e9cca9f895579c167560">UINTN</a> CapsuleInstance, OUT VOID *Buffer)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Loads a DXE capsule from some media into memory.<p>
This function, by whatever mechanism, retrieves a DXE capsule from some device and loads it into memory. Note that the published interface is device neutral.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>PeiServices</em>&nbsp;</td><td>General-purpose services that are available to every PEIM </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>This</em>&nbsp;</td><td>Indicates the EFI_PEI_DEVICE_RECOVERY_MODULE_PPI instance. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>CapsuleInstance</em>&nbsp;</td><td>Specifies which capsule instance to retrieve. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>Buffer</em>&nbsp;</td><td>Specifies a caller-allocated buffer in which the requested recovery capsule will be returned.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>EFI_SUCCESS</em>&nbsp;</td><td>The capsule was loaded correctly. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EFI_DEVICE_ERROR</em>&nbsp;</td><td>A device error occurred. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EFI_NOT_FOUND</em>&nbsp;</td><td>A requested recovery DXE capsule cannot be found. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="af5753d4a11a63c0ca7760ac81b29b67"></a><!-- doxytag: member="DeviceRecoveryModule.h::EFI_PEI_DEVICE_RECOVERY_MODULE_PPI" ref="af5753d4a11a63c0ca7760ac81b29b67" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../de/dc2/a00228.html">_EFI_PEI_DEVICE_RECOVERY_MODULE_PPI</a> <a class="el" href="../../de/dc2/a00228.html">EFI_PEI_DEVICE_RECOVERY_MODULE_PPI</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="51984d6e92921af1353dabad00375228"></a><!-- doxytag: member="DeviceRecoveryModule.h::gEfiPeiDeviceRecoveryModulePpiGuid" ref="51984d6e92921af1353dabad00375228" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d87/a00689.html">EFI_GUID</a> <a class="el" href="../../db/d32/a01122.html#51984d6e92921af1353dabad00375228">gEfiPeiDeviceRecoveryModulePpiGuid</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Aug 7 13:53:27 2009 for MdePkg[ALL] by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
