<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MdePkg[ALL]: MdePkg/Include/Protocol/PciHotPlugRequest.h File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
<link href="../../tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>MdePkg/Include/Protocol/PciHotPlugRequest.h File Reference</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d24/a00222.html">_EFI_PCI_HOTPLUG_REQUEST_PROTOCOL</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d31/a01208.html#7efce989291530fa23f739ab4e0b65fe">EFI_PCI_HOTPLUG_REQUEST_PROTOCOL_GUID</a></td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <br class="typebreak">
<a class="el" href="../../d0/d24/a00222.html">_EFI_PCI_HOTPLUG_REQUEST_PROTOCOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d31/a01208.html#35935cdfa1a41c5083e63482bc490e13">EFI_PCI_HOTPLUG_REQUEST_PROTOCOL</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="../../dd/d95/a01247.html#5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a>(EFIAPI *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d31/a01208.html#af7cbb67687dd7128bcbc3803bab1509">EFI_PCI_HOTPLUG_REQUEST_NOTIFY</a> )(IN <a class="el" href="../../d0/d24/a00222.html">EFI_PCI_HOTPLUG_REQUEST_PROTOCOL</a> *This, IN <a class="el" href="../../d9/d31/a01208.html#cb1d7be6725adb86f04f37089d02cd14">EFI_PCI_HOTPLUG_OPERATION</a> Operation, IN <a class="el" href="../../dd/d95/a01247.html#f943d518ce8a229e7e51ce3fed0e3122">EFI_HANDLE</a> Controller, IN <a class="el" href="../../df/d70/a00431.html">EFI_DEVICE_PATH_PROTOCOL</a> *RemainingDevicePath, IN OUT <a class="el" href="../../d0/d90/a01059.html#f3037cbae2cdbc45fb75983c08b87935">UINT8</a> *NumberOfChildren, IN OUT <a class="el" href="../../dd/d95/a01247.html#f943d518ce8a229e7e51ce3fed0e3122">EFI_HANDLE</a> *ChildHandleBuffer)</td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d31/a01208.html#cb1d7be6725adb86f04f37089d02cd14">EFI_PCI_HOTPLUG_OPERATION</a> { <a class="el" href="../../d9/d31/a01208.html#cb1d7be6725adb86f04f37089d02cd14ef19254c5492ab2b2a296944a3dff620">EfiPciHotPlugRequestAdd</a>, 
<a class="el" href="../../d9/d31/a01208.html#cb1d7be6725adb86f04f37089d02cd14d1d1fec1c14b7db251113bd0efcdd7f4">EfiPciHotplugRequestRemove</a>
 }</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../d1/d87/a00689.html">EFI_GUID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d31/a01208.html#a250b23ee9cd7986f1fda7dddd8e0496">gEfiPciHotPlugRequestProtocolGuid</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Provides services to notify the PCI bus driver that some events have happened in a hot-plug controller (such as a PC Card socket, or PHPC), and to ask the PCI bus driver to create or destroy handles for PCI-like devices.<p>
A hot-plug capable PCI bus driver should produce the EFI PCI Hot Plug Request protocol. When a PCI device or a PCI-like device (for example, 32-bit PC Card) is installed after PCI bus does the enumeration, the PCI bus driver can be notified through this protocol. For example, when a 32-bit PC Card is inserted into the PC Card socket, the PC Card bus driver can call interface of this protocol to notify PCI bus driver to allocate resource and create handles for this PC Card.<p>
The EFI_PCI_HOTPLUG_REQUEST_PROTOCOL is installed by the PCI bus driver on a separate handle when PCI bus driver starts up. There is only one instance in the system. Any driver that wants to use this protocol must locate it globally. The EFI_PCI_HOTPLUG_REQUEST_PROTOCOL allows the driver of hot-plug controller, for example, PC Card Bus driver, to notify PCI bus driver that an event has happened in the hot-plug controller, and the PCI bus driver is requested to create (add) or destroy (remove) handles for the specified PCI-like devices. For example, when a 32-bit PC Card is inserted, this protocol interface will be called with an add operation, and the PCI bus driver will enumerate and start the devices inserted; when a 32-bit PC Card is removed, this protocol interface will be called with a remove operation, and the PCI bus driver will stop the devices and destroy their handles. The existence of this protocol represents the capability of the PCI bus driver. If this protocol exists in system, it means PCI bus driver is hot-plug capable, thus together with the effort of PC Card bus driver, hot-plug of PC Card can be supported. Otherwise, the hot-plug capability is not provided.<p>
Copyright (c) 2006 - 2009, Intel Corporation All rights reserved. This program and the accompanying materials are licensed and made available under the terms and conditions of the BSD License which accompanies this distribution. The full text of the license may be found at <a href="http://opensource.org/licenses/bsd-license.php">http://opensource.org/licenses/bsd-license.php</a><p>
THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED.<p>
<dl class="user" compact><dt><b>Revision Reference:</b></dt><dd>This Protocol is defined in UEFI Platform Initialization Specification 1.2 Volume 5: Standards </dd></dl>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="7efce989291530fa23f739ab4e0b65fe"></a><!-- doxytag: member="PciHotPlugRequest.h::EFI_PCI_HOTPLUG_REQUEST_PROTOCOL_GUID" ref="7efce989291530fa23f739ab4e0b65fe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EFI_PCI_HOTPLUG_REQUEST_PROTOCOL_GUID          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    0x19cb87ab, 0x2cb9, 0x4665, {0x83, 0x60, 0xdd, 0xcf, 0x60, 0x54, 0xf7, 0x9d} \
  }
</pre></div>Global ID for EFI_PCI_HOTPLUG_REQUEST_PROTOCOL 
</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="af7cbb67687dd7128bcbc3803bab1509"></a><!-- doxytag: member="PciHotPlugRequest.h::EFI_PCI_HOTPLUG_REQUEST_NOTIFY" ref="af7cbb67687dd7128bcbc3803bab1509" args=")(IN EFI_PCI_HOTPLUG_REQUEST_PROTOCOL *This, IN EFI_PCI_HOTPLUG_OPERATION Operation, IN EFI_HANDLE Controller, IN EFI_DEVICE_PATH_PROTOCOL *RemainingDevicePath, IN OUT UINT8 *NumberOfChildren, IN OUT EFI_HANDLE *ChildHandleBuffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../dd/d95/a01247.html#5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a>(EFIAPI * <a class="el" href="../../d9/d31/a01208.html#af7cbb67687dd7128bcbc3803bab1509">EFI_PCI_HOTPLUG_REQUEST_NOTIFY</a>)(IN <a class="el" href="../../d0/d24/a00222.html">EFI_PCI_HOTPLUG_REQUEST_PROTOCOL</a> *This, IN <a class="el" href="../../d9/d31/a01208.html#cb1d7be6725adb86f04f37089d02cd14">EFI_PCI_HOTPLUG_OPERATION</a> Operation, IN <a class="el" href="../../dd/d95/a01247.html#f943d518ce8a229e7e51ce3fed0e3122">EFI_HANDLE</a> Controller, IN <a class="el" href="../../df/d70/a00431.html">EFI_DEVICE_PATH_PROTOCOL</a> *RemainingDevicePath, IN OUT <a class="el" href="../../d0/d90/a01059.html#f3037cbae2cdbc45fb75983c08b87935">UINT8</a> *NumberOfChildren, IN OUT <a class="el" href="../../dd/d95/a01247.html#f943d518ce8a229e7e51ce3fed0e3122">EFI_HANDLE</a> *ChildHandleBuffer)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is used to notify PCI bus driver that some events happened in a hot-plug controller, and the PCI bus driver is requested to start or stop specified PCI-like devices.<p>
This function allows the PCI bus driver to be notified to act as requested when a hot-plug event has happened on the hot-plug controller. Currently, the operations include add operation and remove operation. If it is a add operation, the PCI bus driver will enumerate, allocate resources for devices behind the hot-plug controller, and create handle for the device specified by RemainingDevicePath. The RemainingDevicePath is an optional parameter. If it is not NULL, only the specified device is started; if it is NULL, all devices behind the hot-plug controller are started. The newly created handles of PC Card functions are returned in the ChildHandleBuffer, together with the number of child handle in NumberOfChildren. If it is a remove operation, when NumberOfChildren contains a non-zero value, child handles specified in ChildHandleBuffer are stopped and destroyed; otherwise, PCI bus driver is notified to stop managing the controller handle.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>This</em>&nbsp;</td><td>A pointer to the EFI_PCI_HOTPLUG_REQUEST_PROTOCOL instance. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>Operation</em>&nbsp;</td><td>The operation the PCI bus driver is requested to make. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>Controller</em>&nbsp;</td><td>The handle of the hot-plug controller. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>RemainingDevicePath</em>&nbsp;</td><td>The remaining device path for the PCI-like hot-plug device. It only contains device path nodes behind the hot-plug controller. It is an optional parameter and only valid when the Operation is a add operation. If it is NULL, all devices behind the PC Card socket are started. </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>NumberOfChildren</em>&nbsp;</td><td>The number of child handles. For an add operation, it is an output parameter. For a remove operation, it's an input parameter. When it contains a non-zero value, children handles specified in ChildHandleBuffer are destroyed. Otherwise, PCI bus driver is notified to stop managing the controller handle. </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>ChildHandleBuffer</em>&nbsp;</td><td>The buffer which contains the child handles. For an add operation, it is an output parameter and contains all newly created child handles. For a remove operation, it contains child handles to be destroyed when NumberOfChildren contains a non-zero value. It can be NULL when NumberOfChildren is 0. It's the caller's responsibility to allocate and free memory for this buffer.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>EFI_SUCCESS</em>&nbsp;</td><td>The handles for the specified device have been created or destroyed as requested, and for an add operation, the new handles are returned in ChildHandleBuffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EFI_INVALID_PARAMETER</em>&nbsp;</td><td>Operation is not a legal value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EFI_INVALID_PARAMETER</em>&nbsp;</td><td>Controller is NULL or not a valid handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EFI_INVALID_PARAMETER</em>&nbsp;</td><td>NumberOfChildren is NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EFI_INVALID_PARAMETER</em>&nbsp;</td><td>ChildHandleBuffer is NULL while Operation is remove and NumberOfChildren contains a non-zero value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EFI_INVALID_PARAMETER</em>&nbsp;</td><td>ChildHandleBuffer is NULL while Operation is add. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EFI_OUT_OF_RESOURCES</em>&nbsp;</td><td>There are no enough resources to start the devices. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="35935cdfa1a41c5083e63482bc490e13"></a><!-- doxytag: member="PciHotPlugRequest.h::EFI_PCI_HOTPLUG_REQUEST_PROTOCOL" ref="35935cdfa1a41c5083e63482bc490e13" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d0/d24/a00222.html">_EFI_PCI_HOTPLUG_REQUEST_PROTOCOL</a> <a class="el" href="../../d0/d24/a00222.html">EFI_PCI_HOTPLUG_REQUEST_PROTOCOL</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Forward declaration for EFI_PCI_HOTPLUG_REQUEST_PROTOCOL 
</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="cb1d7be6725adb86f04f37089d02cd14"></a><!-- doxytag: member="PciHotPlugRequest.h::EFI_PCI_HOTPLUG_OPERATION" ref="cb1d7be6725adb86f04f37089d02cd14" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d9/d31/a01208.html#cb1d7be6725adb86f04f37089d02cd14">EFI_PCI_HOTPLUG_OPERATION</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enumeration of PCI hot plug operations <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="cb1d7be6725adb86f04f37089d02cd14ef19254c5492ab2b2a296944a3dff620"></a><!-- doxytag: member="EfiPciHotPlugRequestAdd" ref="cb1d7be6725adb86f04f37089d02cd14ef19254c5492ab2b2a296944a3dff620" args="" -->EfiPciHotPlugRequestAdd</em>&nbsp;</td><td>
The PCI bus driver is requested to create handles for the specified devices. An array of EFI_HANDLE is returned, with a NULL element marking the end of the array. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="cb1d7be6725adb86f04f37089d02cd14d1d1fec1c14b7db251113bd0efcdd7f4"></a><!-- doxytag: member="EfiPciHotplugRequestRemove" ref="cb1d7be6725adb86f04f37089d02cd14d1d1fec1c14b7db251113bd0efcdd7f4" args="" -->EfiPciHotplugRequestRemove</em>&nbsp;</td><td>
The PCI bus driver is requested to destroy handles for the specified devices. </td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a250b23ee9cd7986f1fda7dddd8e0496"></a><!-- doxytag: member="PciHotPlugRequest.h::gEfiPciHotPlugRequestProtocolGuid" ref="a250b23ee9cd7986f1fda7dddd8e0496" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d87/a00689.html">EFI_GUID</a> <a class="el" href="../../d9/d31/a01208.html#a250b23ee9cd7986f1fda7dddd8e0496">gEfiPciHotPlugRequestProtocolGuid</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Aug 7 13:53:35 2009 for MdePkg[ALL] by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
